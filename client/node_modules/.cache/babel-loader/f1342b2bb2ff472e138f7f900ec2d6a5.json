{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import StripeCheckout from'react-stripe-checkout';import axios from'axios';import{clearCart as _clearCart}from'../../redux/cart/cart.actions';import{jsx as _jsx}from\"react/jsx-runtime\";var StripeCheckoutButton=function StripeCheckoutButton(_ref){var price=_ref.price,clearCart=_ref.clearCart;var priceForStripe=price*100;var publishableKey='pk_test_51JrB82LXLc6RQBpHwh9xIxjIZEPR9vvVOlT1rcOjDXAS2gubDCmvAPsd81LoJhScB1MjcE8yxsqfbo6jX5VI8Hz300SVfgd3pf';var onToken=function onToken(token){axios({url:'/payment',method:'post',data:{amount:priceForStripe,token:token}}).then(function(res){alert('Your payment has been processed successfully.');clearCart();}).catch(function(err){console.log('Payment error: ',err);alert('Your payment didn\\'t go through. Please be sure to use the provided credit cards');});};return/*#__PURE__*/_jsx(StripeCheckout,{label:\"Pay Now\",name:\"KRWN Clothing Ltd.\",billingAddress:true,shippingAddress:true,image:\"https://svgshare.com/i/CUz.svg\",description:\"Your total is \".concat(price),amount:priceForStripe,panelLabel:\"Pay Now\",token:onToken,stripeKey:publishableKey});};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCart:function clearCart(){return dispatch(_clearCart());}};};export default connect(null,mapDispatchToProps)(StripeCheckoutButton);","map":{"version":3,"sources":["/Users/Zobrist/Desktop/Code/krown_clothing/client/src/components/checkout-button/stripe-button.component.jsx"],"names":["React","connect","StripeCheckout","axios","clearCart","StripeCheckoutButton","price","priceForStripe","publishableKey","onToken","token","url","method","data","amount","then","res","alert","catch","err","console","log","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAS,GAATA,CAAAA,UAAT,KAA0B,+BAA1B,C,2CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAA0B,IAAvBC,CAAAA,KAAuB,MAAvBA,KAAuB,CAAhBF,SAAgB,MAAhBA,SAAgB,CACrD,GAAMG,CAAAA,cAAc,CAAGD,KAAK,CAAG,GAA/B,CACA,GAAME,CAAAA,cAAc,CAAG,6GAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,KAAK,CAAI,CAEvBP,KAAK,CAAC,CACFQ,GAAG,CAAE,UADH,CAEFC,MAAM,CAAE,MAFN,CAGFC,IAAI,CAAE,CACFC,MAAM,CAAEP,cADN,CAEFG,KAAK,CAALA,KAFE,CAHJ,CAAD,CAAL,CAOGK,IAPH,CAOQ,SAAAC,GAAG,CAAI,CACXC,KAAK,CAAC,+CAAD,CAAL,CACAb,SAAS,GAEZ,CAXD,EAWGc,KAXH,CAWS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BF,GAA/B,EACAF,KAAK,CAAC,kFAAD,CAAL,CACH,CAdD,EAeD,CAjBD,CAmBA,mBACE,KAAC,cAAD,EACE,KAAK,CAAC,SADR,CAEE,IAAI,CAAC,oBAFP,CAGE,cAAc,KAHhB,CAIE,eAAe,KAJjB,CAKE,KAAK,CAAC,gCALR,CAME,WAAW,yBAAmBX,KAAnB,CANb,CAOE,MAAM,CAAEC,cAPV,CAQE,UAAU,CAAC,SARb,CASE,KAAK,CAAEE,OATT,CAUE,SAAS,CAAED,cAVb,EADF,CAcD,CArCD,CAuCA,GAAMc,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCnB,SAAS,CAAE,2BAAMmB,CAAAA,QAAQ,CAACnB,UAAS,EAAV,CAAd,EAD2B,CAAL,EAAnC,CAKA,cAAeH,CAAAA,OAAO,CAAC,IAAD,CAAOqB,kBAAP,CAAP,CAAkCjB,oBAAlC,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios';\nimport { clearCart } from '../../redux/cart/cart.actions';\n\nconst StripeCheckoutButton = ({ price, clearCart }) => {\n  const priceForStripe = price * 100;\n  const publishableKey = 'pk_test_51JrB82LXLc6RQBpHwh9xIxjIZEPR9vvVOlT1rcOjDXAS2gubDCmvAPsd81LoJhScB1MjcE8yxsqfbo6jX5VI8Hz300SVfgd3pf';\n\n  const onToken = token => {\n    \n    axios({\n        url: '/payment',\n        method: 'post', \n        data: {\n            amount: priceForStripe,\n            token\n        }\n    }).then(res => {\n        alert('Your payment has been processed successfully.')\n        clearCart();\n\n    }).catch(err => {\n        console.log('Payment error: ', err);\n        alert('Your payment didn\\'t go through. Please be sure to use the provided credit cards');\n    });\n  };\n\n  return (\n    <StripeCheckout\n      label='Pay Now'\n      name='KRWN Clothing Ltd.'\n      billingAddress\n      shippingAddress\n      image='https://svgshare.com/i/CUz.svg'\n      description={`Your total is ${price}`}\n      amount={priceForStripe}\n      panelLabel='Pay Now'\n      token={onToken}\n      stripeKey={publishableKey}\n    />\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearCart: () => dispatch(clearCart())\n\n})\n\nexport default connect(null, mapDispatchToProps)(StripeCheckoutButton);"]},"metadata":{},"sourceType":"module"}